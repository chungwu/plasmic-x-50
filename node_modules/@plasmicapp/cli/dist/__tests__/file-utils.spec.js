"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const file_utils_1 = require("../utils/file-utils");
describe("defaultPagePath", () => {
    it("does nothing for react", () => {
        expect(file_utils_1.defaultPagePath({ config: { platform: "react" } }, "/index.tsx")).toBe("/index.tsx");
        expect(file_utils_1.defaultPagePath({ config: { platform: "react" } }, "/nested/index.tsx")).toBe("/nested/index.tsx");
    });
    it("handles gatsby pagesDir", () => {
        expect(file_utils_1.defaultPagePath({
            config: {
                platform: "gatsby",
                gatsbyConfig: { pagesDir: "../pages" },
            },
        }, "/index.tsx")).toBe("../pages/index.tsx");
        expect(file_utils_1.defaultPagePath({
            config: {
                platform: "gatsby",
                gatsbyConfig: { pagesDir: "../pages" },
            },
        }, "/nested/index.tsx")).toBe("../pages/nested/index.tsx");
    });
    it("handles nextjs pagesDir", () => {
        expect(file_utils_1.defaultPagePath({
            config: {
                platform: "nextjs",
                nextjsConfig: { pagesDir: "../pages" },
            },
        }, "/index.jsx")).toBe("../pages/index.jsx");
        expect(file_utils_1.defaultPagePath({
            config: {
                platform: "nextjs",
                nextjsConfig: { pagesDir: "../pages" },
            },
        }, "/index.tsx")).toBe("../pages/index.tsx");
        expect(file_utils_1.defaultPagePath({
            config: {
                platform: "nextjs",
                nextjsConfig: { pagesDir: "../pages" },
            },
        }, "/nested/index.tsx")).toBe("../pages/nested/index.tsx");
    });
    it("handles nextjs pagesDir using app/ directory ", () => {
        expect(file_utils_1.defaultPagePath({
            config: { platform: "nextjs", nextjsConfig: { pagesDir: "../app" } },
        }, "/index.jsx")).toBe("../app/page.jsx");
        expect(file_utils_1.defaultPagePath({
            config: { platform: "nextjs", nextjsConfig: { pagesDir: "../app" } },
        }, "/index.tsx")).toBe("../app/page.tsx");
        expect(file_utils_1.defaultPagePath({
            config: { platform: "nextjs", nextjsConfig: { pagesDir: "../app" } },
        }, "/nested/index.tsx")).toBe("../app/nested/page.tsx");
        expect(file_utils_1.defaultPagePath({
            config: { platform: "nextjs", nextjsConfig: { pagesDir: "../app" } },
        }, "/not-index.tsx")).toBe("../app/not-index/page.tsx");
    });
});
